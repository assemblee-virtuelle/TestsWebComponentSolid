<template id="planet-list">
    <style>
        #tab{
            width:90%;
            border:2px solid rgb(80, 80, 80);
            margin: 0 auto;
        }
        #list-block{
            text-align:center;
        }
        .title{
            margin-top:50px;
            margin-bottom:50px;
        }
        .new {
            background-color:greenyellow;
        }
        .actionTd{
            display:flex;
            justify-content: space-around;
        }
        td{
            border:1px solid black;
        }
        tr{
            border: 1px dashed black;
        }
        td, tr{
            border-collapse:collapse;
            text-align:center;
        }
        .actionTd > div {
            cursor: pointer;
        }
        #add > img{
            width:50px;
            height:50px;
        }
        #add{
            margin-top: 10px;
            display:inline-block;
            cursor: pointer;
            width:fit-content;
        }
    </style>

    <div id="list-block">
        <h1 class="title">Liste des plan√®tes</h1>
        <table id="tab">
        </table>
        <div id="add">
            <img src="/images/plus.png" alt="add" />
        </div>
    </div>
</template>
<script>
    let planet_list_template = document.currentScript.ownerDocument.getElementById('planet-list');;
    class PlanetList extends HTMLElement {
        constructor(){
            super();
            const shadowRoot = this.attachShadow({
                mode: 'open'
            });
            const instance = planet_list_template.content.cloneNode(true);
            this.shadowRoot.appendChild(instance);
            this.table = this.shadowRoot.getElementById("tab");
        }

        connectedCallback(){
            this.shadowRoot.getElementById("add").addEventListener("click", this.onAddClick.bind(this));
        }

        onAddClick(){
            if (this.postal){
                this.postal.publish({
                    channel:'planet',
                    topic:'addNew'
                });
            }
        }

        onEditClick(e, postal){
            if (postal){
            }
        }

        onDeleteClick(e, postal){
            if (postal){

            }
        }

        setPostal(){
            this.postal = postal;
            this.setPostalChannels();
        }

        generateList(list){
            
        }

        setPostalChannels(){

        }
    }
    window.customElements.define("planet-list", PlanetList);


</script>